import{defineComponent as $,ref as p,createElementBlock as d,openBlock as r,createElementVNode as t,createCommentVNode as _,Fragment as x,renderList as y,toDisplayString as h,computed as b,resolveComponent as C,createBlock as E,withCtx as f,createVNode as g,normalizeClass as v}from"vue";import{send as m}from"@koishijs/client";const I={class:"container"},T={class:"things-list"},w={class:"things-content"},z=$({__name:"things",setup(s){const n=p([]);m("get-things").then(e=>{n.value=e});function a(){m("get-things").then(e=>{n.value=e})}return(e,c)=>(r(),d("div",I,[c[0]||(c[0]=t("h4",null,"记你太美",-1)),_(" 底部信息 "),t("span",{class:""},[t("button",{onClick:a,class:"clear-btn"}," 刷新列表 ")]),_(" 项目展示 "),t("ul",T,[(r(true),d(x,null,y(n.value,u=>(r(),d("li",{key:u.id,class:"things-item"},[t("div",w,[t("span",null,h(u.id+"."+u.things),1)])]))),128))])]))}}),B=(s,n)=>{const a=s.__vccOpts||s;for(const[e,c]of n)a[e]=c;return a},D=B(z,[["__scopeId","data-v-a36ef4b7"]]),F={class:"todo-container"},L={class:"filter-buttons"},O={class:"todo-list"},P={class:"todo-content"},S={class:"todo-footer"},j=$({__name:"page",setup(s){const n=p([]);m("get-todo-list").then(o=>{n.value=o});function a(){m("get-todo-list").then(o=>{n.value=o})}p();const e=p("all"),c=b(()=>n.value.filter(o=>!o.completed).length),u=()=>{a()},N=b(()=>e.value==="active"?n.value.filter(o=>!o.completed):e.value==="completed"?n.value.filter(o=>o.completed):n.value);return(o,i)=>{const k=C("k-card"),V=C("k-layout");return r(),E(V,null,{default:f(()=>[g(k,null,{default:f(()=>[t("div",F,[_(" 筛选完成的项目 "),t("div",L,[t("button",{onClick:i[0]||(i[0]=l=>e.value="all"),class:v([{active:e.value==="all"},"filter-btn"])},"全部",2),t("button",{onClick:i[1]||(i[1]=l=>e.value="active"),class:v([{active:e.value==="active"},"filter-btn"])},"进行中",2),t("button",{onClick:i[2]||(i[2]=l=>e.value="completed"),class:v([{active:e.value==="completed"},"filter-btn"])},"已完成",2)]),_(" 项目展示 "),t("ul",O,[(r(true),d(x,null,y(N.value,l=>(r(),d("li",{key:l.id,class:"todo-item"},[t("div",P,[t("span",{class:v({completed:l.completed})},h(l.id+"."+l.title),3)])]))),128))]),_(" 底部信息 "),t("div",S,[t("span",null,h(c.value)+" 个任务未完成",1),t("button",{onClick:u,class:"clear-btn"}," 刷新列表 ")])])]),_:1}),g(k,null,{default:f(()=>[g(D)]),_:1})]),_:1})}}}),q=B(j,[["__scopeId","data-v-c77d76bf"]]),H=s=>{s.page({name:"缺氧代办清单",path:"/todolist",component:q})};export{H as default};
